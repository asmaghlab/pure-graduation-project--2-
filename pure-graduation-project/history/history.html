<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./Assets/imgs/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="academic system management for students and teachers"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <!-- Title -->
    <title>History</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Sofia"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="./Css/all.min.css" />
    <link rel="stylesheet" href="./Css/normalize.css" />
    <link rel="stylesheet" href="./Css/style.css" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="../Css/history.css" />

    <script
      src="https://kit.fontawesome.com/e39d260dfe.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="root">
      <div class="header">
        <div class="container">
          <a href="../home.html" class="left" id="home-link">
            <img
              src="Assets/imgs/tanta-univ.png"
              alt="Tanta University"
              class="logo"
            />
            <h3>Tanta University</h3>
          </a>
          <div class="right">
            <i class="fa-solid fa-bars" id="menu-icon"></i>
            <img
              src="Assets/imgs/logo.png"
              alt="Computer Science Tanta University"
              class="logo"
            />
            <div class="name">
              <span>Faculty of Computer </span>
              <span>and information</span>
            </div>
          </div>
        </div>
        <ul class="NavLinks active" id="nav-links">
          <li>
            <a href="../Student.html">
              <i class="fa-solid fa-user"></i>
              <span>Profile</span>
            </a>
          </li>
          <li>
            <a href="../courses.html">
              <i class="fa-solid fa-book"></i>
              <span>Courses</span>
            </a>
          </li>
          <li>
            <a
              href="../Academic Advising.html"
            >
              <i class="fa-solid fa-address-card"></i>
              <span>Academic Advising</span>
            </a>
          </li>
          <li>
            <a href="../Schedules.html">
              <i class="fa-solid fa-table"></i>
              <span>Schedules</span>
            </a>
          </li>
          <li>
            <a href="history.html" class="active">
              <i class="fa-solid fa-clock-rotate-left"></i>
              <span>History</span>
            </a>
          </li>
          <li>
            <a href="../Absence.html">
              <i class="fa-solid fa-clipboard-list"></i>
              <span>Absence</span>
            </a>
          </li>
          <li>
            <a href="../Exam.html">
              <i class="fa-regular fa-file"></i>
              <span>Exam</span></a
            >
          </li>
        </ul>
      </div>
      <section class="history text-black">
        <h2 class="text-center pb-4 pt-4">History</h2>
        <div class="container bg-light-gray shadow-md rounded-2 pt-3 pb-1">
          <div class="d-flex justify-content-between px-5">
            <p>Student Name</p>
            <p>Year</p>
          </div>
          <div class="container bg-gray">
            <div class="row mt-5 mb-3">
              <div class="col-lg-3 col-md-6 col-sm-12 py-2 p-3 end-border">
                <div class="project p-4 py-3">
                  <p class="project-title fs-3 m-0 ps-3">Materials</p>
                </div>
                <div class="material-container"></div>
              </div>

              <div class="col-lg-3 col-md-6 col-sm-12 py-2 p-3 end-border">
                <div class="project p-4 py-3">
                  <p class="project-title fs-3 m-0 ps-3">Projects</p>
                </div>
                <div class="accordion-container">
                  <div class="accordion">
                    <span>Section 1</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <div class="">
                      <div class="term-link ps-3 fs-6 mb-2">
                        <i class="fa-solid fa-play pe-2 fs-6"></i>
                        Team id:
                        <div class="mx-4">
                          <span id="team-id-show">53824</span>
                        </div>
                      </div>
                      <div class="term-link ps-3 fs-6 mb-2">
                        <i class="fa-solid fa-play pe-2 fs-6"></i>
                        Project idea:
                        <div class="mx-4">
                          <span id="project-idea-show">web Project</span>
                        </div>
                      </div>
                      <div class="term-link ps-3 fs-6 mb-2">
                        <i class="fa-solid fa-play pe-2 fs-6"></i>
                        Students Name:
                        <div class="mx-4">
                          <span class="d-block" id="student1-name-show">
                            Mohamed Said
                          </span>
                          <span class="d-block" id="student2-name-show">
                            Khaled Mohamed
                          </span>
                          <span class="d-block" id="student3-name-show">
                            Momen Zayed
                          </span>
                          <span class="d-block" id="student4-name-show">
                            Mahmoud Mohamed
                          </span>
                          <span class="d-block" id="student5-name-show">
                           Sara Halawa
                          </span>
                          <span class="d-block" id="student6-name-show">
                            Zeinab Elsayed
                           </span>
                           <span class="d-block" id="student7-name-show">
                           Amira Mamdouh
                           </span>
                           <span class="d-block" id="student8-name-show">
                            Asmaa Adel
                           </span>
                           <span class="d-block" id="student9-name-show">
                            student9
                           </span>
                           <span class="d-block" id="student10-name-show">
                            student10
                           </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-3 col-md-6 col-sm-12 py-2 p-3 end-border">
                <div class="project p-4 py-3">
                  <p class="project-title fs-3 m-0 ps-5">Exams</p>
                </div>
                <div class="accordion-container" data-grade="midterm">
                  <div class="accordion">
                    <span>Midterm</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <span>15</span>
                  </div>
                </div>
                <div class="accordion-container" data-grade="final">
                  <div class="accordion">
                    <span>Final</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <span>30</span>
                  </div>
                </div>
                <div class="accordion-container" data-grade="total">
                  <div class="accordion">
                    <span>Total</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <span>57</span>
                  </div>
                </div>
              </div>
              <div class="col-lg-3 col-md-6 col-sm-12 py-2 p-3">
                <div class="project p-4 py-3">
                  <p class="project-title fs-3 m-0 ps-5">Tasks</p>
                </div>
                <div class="accordion-container" data-grade="section">
                  <div class="accordion">
                    <span>Sections</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <span>7</span>
                  </div>
                </div>
                <div class="accordion-container" data-grade="lec">
                  <div class="accordion">
                    <span>Lectures</span>
                    <i class="fa-solid fa-play pe-2 fs-6"></i>
                  </div>
                  <div class="panel">
                    <span>5</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </body>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="./js/main.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>
  <script
    src="https://kit.fontawesome.com/e39d260dfe.js"
    crossorigin="anonymous"
  ></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/table-to-excel/1.0.0/tableToExcel.min.js"></script>
  <script src="./JS/index.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Handle printing
      document
        .getElementById("printButton")
        .addEventListener("click", function () {
          window.print();
        });

      // Handle downloading as Excel
      document
        .getElementById("downloadButton")
        .addEventListener("click", function () {
          const table = document.getElementById("scheduleTable");
          const html = table.outerHTML;

          const blob = new Blob([html], { type: "application/vnd.ms-excel" });
          const url = URL.createObjectURL(blob);

          const a = document.createElement("a");
          a.href = url;
          a.download = "Schedule.xls";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });
    });
  </script>
  <script>
    // load materials
    const materials = window.localStorage.getItem("materialsData");
    const materialsData = [];
    if (materials) materialsData.push(...JSON.parse(materials));

    const generateMaterialElement = (title, href) => {
      return `
    <div class="fake-accordion">
      <a
        target="_blank"
        href="${href}"
        style="width: 100%">
        ${title}
      </a>
    </div>
    `;
    };
    const materialContainer = document.querySelector(".material-container");

    if (materialsData.length === 0) {
      materialContainer.innerHTML = "<p>No materials available</p>";
    }
    
    materialsData.forEach((material, index) => {
      const materialTitle = `Level ${material.level}: ${material.term} term`;
      const materialElement = generateMaterialElement(materialTitle, material.link);
      materialContainer.innerHTML += materialElement;
      console.log(material);
    });
  </script>

  <script>
    // load grades
    const grades = window.localStorage.getItem("grades");
    if (grades) {
      const parsedGrades = JSON.parse(grades);
      for (const key in parsedGrades) {
        const grade = parsedGrades[key];
        const accordion = document.querySelector(
          `.accordion-container[data-grade="${key}"]`
        );
        if (accordion) {
          const panel = accordion.querySelector(".panel");
          panel.innerHTML = `<span>${grade}</span>`;
        }
      }
    }

    // load project data
    const projects = window.localStorage.getItem("projects");
    if (projects) {
      const parsedProjects = JSON.parse(projects);
      for (const key in parsedProjects) {
        // set the value of the preview section
        const show = document.getElementById(`${key}-show`);
        show.innerText = parsedProjects[key];
      }
    }

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
          panel.style.display = "none";
        } else {
          panel.style.display = "block";
        }
      });
    }
  </script>
</html>
